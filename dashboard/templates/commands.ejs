<%- include("partials/header", { bot, user, path, title: `Settings | ${guild.name}` }) %>

<div class="container-sm center" style="margin-top: 30px;">
    <button type="button" class="btn btn-success text-white" data-toggle="modal" data-target="#newStore" data-whatever="@mdo">Add winkel</button>
    <div class="modal fade" id="newStore" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Winkel toevoegen</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <form method="POST" name="newStore">
                    <input type="hidden" name="task" value="NEW">
                    <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Naam:</p>
                    <p style="font-style: italic;" class="disabled">Geef de winkel een naam.</p>
                    <input type="text" class="form-control" name="name" value="<%= settings.name %>" placeholder="Naam" required maxlength="20">
                    <br>
                    <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Beschrijving:</p>
                    <p style="font-style: italic;" class="disabled">Voeg een beschrijving toe.</p>
                    <input type="text" class="form-control" name="value" value="<%= settings.description %>" placeholder="Waarde" required maxlength="150">
                    <br>
                    <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Stad:</p>
                    <p style="font-style: italic;" class="disabled">In welke stad is de winkel gevestigd?</p>
                    <select name='stad' class="form-control" required>
                      <option value="" disabled selected hidden>Selecteer een stad</option>
                      <option>Hollandia</option>
                      <option>Bruxia</option>
                      <option>The Bai</option>
                      <option>Minetopia</option>
                      <option>Pretpark</option>
                    </select>
                    <br>
                    <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Locatie</p>
                    <p style="font-style: italic;" class="disabled">Wat zijn de coördinaten van de winkel?</p>
                    <input type="text" class="form-control" name="value" value="<%= settings.location %>" placeholder="Locatie" required maxlength="20">
                    <br>
                    <button type="submit" class="btn btn-success">Save settings</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </form>
            </div>
          </div>
        </div>
      </div>
    <table class="table" id="commandList">
        <thead>
          <tr>
            <th>Winkel</th>
            <th>Beschrijving</th>
            <th>Opties</th>
          </tr>
        </thead>
        <tbody>
    <% settings.forEach(store => { %>
  
        <tr>
            <td><%= store.name %></td>
            <td><%= store.description %></td>
            <td><button type="button" class="btn btn-warning text-white" data-toggle="modal" data-target="#editStore-<%- store.name %>" data-whatever="@mdo"><i class='fas fa-pencil-alt'></i></button><button type="button" class="btn btn-danger text-white" data-toggle="modal" data-target="#deleteCommand-<%- command.name %>" data-whatever="@mdo"><i class='fas fa-trash-alt'></i></button></td>
        </tr>
          <div class="modal fade" id="editStore-<%- command.name %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Bewerk <%= store.name %></h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <form method="POST" name="newStore">
                      <input type="hidden" name="task" value="NEW">
                      <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Naam:</p>
                      <p style="font-style: italic;" class="disabled">Geef de winkel een naam.</p>
                      <input type="text" class="form-control" name="name" value="<%= settings.name %>" placeholder="Naam" required maxlength="20">
                      <br>
                      <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Beschrijving:</p>
                      <p style="font-style: italic;" class="disabled">Voeg een beschrijving toe.</p>
                      <input type="text" class="form-control" name="value" value="<%= settings.description %>" placeholder="Waarde" required maxlength="150">
                      <br>
                      <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Stad:</p>
                      <p style="font-style: italic;" class="disabled">In welke stad is de winkel gevestigd?</p>
                      <select name='stad' class="form-control" required>
                        <option value="" disabled selected hidden><%= settings.stad %></option>
                        <option>Hollandia</option>
                        <option>Bruxia</option>
                        <option>The Bai</option>
                        <option>Minetopia</option>
                        <option>Pretpark</option>
                      </select>
                      <br>
                      <p class="h5" style="margin-bottom: 0.5rem; margin-top: 10px;">Locatie</p>
                      <p style="font-style: italic;" class="disabled">Wat zijn de coördinaten van de winkel?</p>
                      <input type="text" class="form-control" name="value" value="<%= settings.location %>" placeholder="Locatie" required maxlength="20">
                      <br>
                      <button type="submit" class="btn btn-success">Save settings</button>
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </form>
              </div>
            </div>
            </div>
          </div>
          <div class="modal fade" id="deleteCommand-<%- command.name %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Delete <%= store.name %> command</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                    <form method="POST">
                        <input type="hidden" name="task" value="DELETE">
                        <input type="text" class="form-control" name="commandId" value="<%= command._id %>" hidden>
                        <p style="font-style: italic;" class="disabled">Weet u zeker dat u het command <%= store.name %> wilt verwijderen?</p>
                        <br>
                        <button type="submit" class="btn btn-danger">Delete</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </form>
                </div>
              </div>
            </div>
          </div>
    <%
        });
    %>
</tbody>
</table>
</div>

<%- include("partials/footer") %>